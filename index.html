<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ê¸°í™ì˜¤ë¹  â™¡ ë¯¸ì…˜ ì„±ê³µí•˜ë©´ í­ì£½!</title>

  <style>
    :root{
      --bg1:#0b1026;
      --bg2:#111a3f;
      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.12);
      --text:#f4f6ff;
      --muted: rgba(244,246,255,.75);
      --accent:#ffd27a;
      --good:#7dffb2;
      --bad:#ff7d7d;
      --shadow: 0 18px 60px rgba(0,0,0,.35);
      --radius: 24px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: -apple-system, BlinkMacSystemFont, "Apple SD Gothic Neo", "Noto Sans KR", Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 800px at 20% 10%, #25306e 0%, transparent 50%),
                  radial-gradient(900px 700px at 80% 20%, #3b2a6e 0%, transparent 55%),
                  linear-gradient(180deg, var(--bg2), var(--bg1));
      overflow-x:hidden;
      -webkit-tap-highlight-color: transparent;
    }

    /* floating dots */
    .bg-dots{
      position:fixed; inset:0;
      pointer-events:none;
      opacity:.85;
      filter: blur(.2px);
    }
    .dot{
      position:absolute;
      width:8px;height:8px;border-radius:50%;
      background: rgba(255,255,255,.22);
      animation: float 10s linear infinite;
    }
    @keyframes float{
      from{ transform: translateY(20px); opacity:.2 }
      30%{ opacity:.95 }
      to{ transform: translateY(-120vh); opacity:.2 }
    }

    .wrap{
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 28px 16px 38px;
    }
    .card{
      width:min(520px, 100%);
      background: linear-gradient(180deg, var(--card2), var(--card));
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: var(--shadow);
      border-radius: var(--radius);
      padding: 22px 18px 18px;
      position:relative;
      overflow:hidden;
      backdrop-filter: blur(10px);
    }
    .badge{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.16);
      font-weight:700;
      letter-spacing:.2px;
      margin-bottom: 14px;
    }
    h1{
      margin: 6px 0 10px;
      font-size: 34px;
      line-height: 1.15;
      letter-spacing:-.6px;
      text-align:center;
    }
    .sub{
      text-align:center;
      color:var(--muted);
      line-height:1.55;
      margin: 0 0 18px;
      font-size: 15px;
    }

    .panel{
      background: rgba(0,0,0,.16);
      border:1px solid rgba(255,255,255,.12);
      border-radius: 18px;
      padding: 16px;
      margin-top: 14px;
    }

    .row{display:flex; gap:10px; align-items:center; justify-content:center; flex-wrap:wrap}
    input{
      width:min(360px, 100%);
      padding: 14px 14px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.24);
      color: var(--text);
      outline:none;
      font-size: 16px;
    }
    input::placeholder{color: rgba(244,246,255,.55)}
    button{
      appearance:none;
      border:none;
      padding: 14px 16px;
      border-radius: 14px;
      font-weight: 800;
      font-size: 16px;
      cursor:pointer;
      color: #1b1b1b;
      background: linear-gradient(180deg, #ffe3a6, #ffc85c);
      box-shadow: 0 12px 30px rgba(255,210,122,.18);
      transition: transform .08s ease, filter .08s ease;
    }
    button:active{transform: translateY(1px); filter: brightness(.95)}
    .ghost{
      color: var(--text);
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.16);
      box-shadow:none;
      font-weight:700;
    }

    .msg{
      margin-top: 10px;
      font-size: 14px;
      line-height: 1.55;
      color: var(--muted);
      text-align:center;
      min-height: 22px;
    }
    .msg.good{color: var(--good)}
    .msg.bad{color: var(--bad)}

    .progress{
      display:flex;
      gap: 8px;
      justify-content:center;
      margin: 14px 0 6px;
    }
    .pip{
      width: 12px; height:12px;
      border-radius: 50%;
      border: 1px solid rgba(255,255,255,.25);
      background: rgba(255,255,255,.10);
    }
    .pip.on{
      background: linear-gradient(180deg, #ffe3a6, #ffc85c);
      border-color: rgba(255,210,122,.55);
    }

    .qtitle{
      font-size: 18px;
      font-weight: 900;
      text-align:center;
      margin: 6px 0 6px;
      letter-spacing:-.2px;
    }
    .qtext{
      text-align:center;
      color: var(--muted);
      line-height: 1.55;
      margin: 0 0 12px;
      font-size: 15px;
    }
    .hint{
      text-align:center;
      margin-top: 10px;
      font-size: 14px;
      color: rgba(255,255,255,.78);
    }
    .hint b{color: var(--accent)}
    .footer{
      margin-top: 14px;
      text-align:center;
      color: rgba(244,246,255,.55);
      font-size: 12px;
      line-height: 1.5;
    }

    /* stage visibility */
    .hidden{display:none !important;}

    /* fireworks canvas */
    canvas#fx{
      position:fixed; inset:0;
      pointer-events:none;
      z-index: 99;
    }

    /* success shimmer */
    .shine{
      position:absolute; inset:-60px -60px auto auto;
      width: 220px; height:220px;
      background: radial-gradient(circle at 30% 30%, rgba(255,210,122,.35), transparent 60%);
      transform: rotate(15deg);
      filter: blur(1px);
      opacity:.7;
    }
  </style>
</head>

<body>
  <canvas id="fx"></canvas>

  <!-- background dots -->
  <div class="bg-dots" id="dots"></div>

  <div class="wrap">
    <div class="card">
      <div class="shine"></div>

      <div class="badge">ğŸ”’ ë¹„ë°€ ë¯¸ì…˜ í˜ì´ì§€ â€¢ ê¸°í™ì˜¤ë¹  ì „ìš© ğŸ˜âœ¨</div>

      <!-- LOCK STAGE -->
      <section id="stage-lock">
        <h1>ë¹„ë²ˆ ì…ë ¥í•˜ë©´<br/>ë¯¸ì…˜ì´ ì‹œì‘ë¼ìš” ğŸ”</h1>
        <p class="sub">
          ê¸°í™ì˜¤ë¹ ë§Œ ë“¤ì–´ì˜¬ ìˆ˜ ìˆê²Œ ì ê¸ˆ ê±¸ì–´ë†¨ì–´ìš” ã…ã…<br/>
          (íŒíŠ¸: â€œì˜¤ë¹ â€ê°€ ì•„ëŠ” ìš°ë¦¬ë§Œì˜ í‚¤ì›Œë“œ ğŸ˜‰)
        </p>

        <div class="panel">
          <div class="row">
            <input id="pw" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì¤˜ (ì˜ˆ: gh1234)" autocomplete="off" />
            <button id="btn-unlock">ì…ì¥!</button>
          </div>
          <div class="msg" id="pw-msg"></div>
          <div class="row" style="margin-top:10px;">
            <button class="ghost" id="btn-reset">ì´ˆê¸°í™”(í…ŒìŠ¤íŠ¸ìš©)</button>
          </div>
        </div>

        <div class="footer">
          From. ì£¼ì¸ë‹˜ ğŸ’›<br/>
          â€» ì•„ì´í°ì€ ìë™ ìŒì•… ì¬ìƒì´ ë§‰í˜€ì„œ, ë²„íŠ¼ ëˆ„ë¥´ë©´ ì—°ì¶œì´ ì‹œì‘ë¼ìš”!
        </div>
      </section>

      <!-- QUIZ STAGE -->
      <section id="stage-quiz" class="hidden">
        <h1>ê¸°í™ì˜¤ë¹  â™¡<br/>ë¯¸ì…˜ 3ë‹¨ê³„ ë„ì „!</h1>
        <p class="sub">
          ë¬¸ì œ ë‹¤ ë§íˆë©´ ë§ˆì§€ë§‰ì— í­ì£½ í„°ì ¸ìš” ğŸ†<br/>
          í‹€ë ¤ë„ ê´œì°®ì•„~ íŒíŠ¸ ì¤„ê²Œ ğŸ˜
        </p>

        <div class="progress" id="pips"></div>

        <div class="panel">
          <div class="qtitle" id="qtitle">ë¯¸ì…˜ 1</div>
          <div class="qtext" id="qtext"></div>

          <div class="row" style="margin-top:12px;">
            <input id="answer" type="text" placeholder="ì •ë‹µ ì…ë ¥" autocomplete="off" />
            <button id="btn-submit">ì •ë‹µ!</button>
          </div>

          <div class="msg" id="q-msg"></div>
          <div class="hint" id="hint"></div>

          <div class="row" style="margin-top:12px;">
            <button class="ghost" id="btn-skip-hint">íŒíŠ¸ ë³´ê¸° ğŸ‘€</button>
            <button class="ghost" id="btn-back-lock">ì ê¸ˆìœ¼ë¡œ</button>
          </div>
        </div>

        <div class="footer">
          í™”ë©´ ì•„ë¬´ ë°ë‚˜ í†¡! í•˜ë©´ ë°˜ì§ âœ¨ (ì‘ì€ ì´í™íŠ¸)<br/>
          From. ì£¼ì¸ë‹˜ ğŸ’›
        </div>
      </section>

      <!-- SUCCESS STAGE -->
      <section id="stage-success" class="hidden">
        <h1>ğŸ‰ ë¯¸ì…˜ ì„±ê³µ! ğŸ‰<br/>ê¸°í™ì˜¤ë¹  ìƒì¼ ì¶•í•˜í•´ìš”!</h1>
        <p class="sub">
          ì˜¤ëŠ˜ì€ ì˜¤ë¹ ê°€ ì„¸ìƒì—ì„œ ì œì¼ ë¹›ë‚˜ëŠ” ë‚  ğŸŒŸ<br/>
          ì¢‹ì€ ì¼ë§Œ ê°€ë“í•˜ê³ , ì˜¬í•´ëŠ” â€œëŒ€ë°• ì‹œì¦Œâ€ ê°€ìì•„ì•„ ğŸ’¥
        </p>

        <div class="panel">
          <div class="row" style="gap:12px;">
            <button id="btn-fireworks">í­ì£½ ë” ë°›ì•„ë ğŸ†</button>
            <button class="ghost" id="btn-share">ì¹´í†¡ìœ¼ë¡œ ê³µìœ í•˜ê¸° ğŸ“²</button>
          </div>
          <div class="msg good" id="s-msg">From. ì£¼ì¸ë‹˜ ğŸ’›</div>
        </div>

        <div class="footer">
          â€» ê³µìœ  ë²„íŠ¼ì´ ì•ˆ ëœ¨ë©´, ì£¼ì†Œì°½ ë§í¬ë¥¼ ë³µì‚¬í•´ì„œ ì¹´í†¡ì— ë¶™ì—¬ë„£ê¸° í•˜ë©´ ë¼ìš”!
        </div>
      </section>
    </div>
  </div>

  <script>
    /***********************
     * ì„¤ì •(ì—¬ê¸°ë§Œ ë°”ê¾¸ë©´ ë¨)
     ***********************/
    const PASSWORD = "1234"; // â† ë¹„ë²ˆ ë°”ê¾¸ê¸°

    // í€´ì¦ˆ(ì •ë‹µì€ ëŒ€ì†Œë¬¸ì/ê³µë°± ë¬´ì‹œ ë¹„êµ)
    const QUESTIONS = [
      {
        title: "ë¯¸ì…˜ 1",
        text: "ì˜¤ë¹  ìƒì¼ì€ ëª‡ ì›” ëª‡ ì¼ì´ì•¼? (ì˜ˆ: 2ì›”21ì¼ / 2/21 / 0221 ë‹¤ ê°€ëŠ¥)",
        answers: ["2/21","02/21","2ì›”21ì¼","2ì›” 21ì¼","0221","221","02-21","2-21"],
        hint: "ìˆ«ì 2ë‘ 21 ğŸ˜‰"
      },
      {
        title: "ë¯¸ì…˜ 2",
        text: "ì£¼ì¸ë‹˜ì´ ì˜¤ë¹  ë¶€ë¥´ëŠ” í˜¸ì¹­ì€? (íŒíŠ¸: ì´ë¦„+í˜¸ì¹­)",
        answers: ["ê¸°í™ì˜¤ë¹ ","ê¸°í™ ì˜¤ë¹ ","ê¸°í™ì˜¤ë¹ â™¡","ê¸°í™ì˜¤ë¹  â¤","ê¸°í™ì˜¤ë¹ â¤ï¸"],
        hint: "â€˜ê¸°í™â€™ + â€˜ì˜¤ë¹ â€™ ğŸ’›"
      },
      {
        title: "ë¯¸ì…˜ 3",
        text: "ì˜¤ëŠ˜ ì˜¤ë¹  ì¸ìƒ í‚¤ì›Œë“œ í•œ ë‹¨ì–´! (í˜ì´ì§€ ì•ˆì— ë‚˜ì˜¤ëŠ” ë§)",
        answers: ["ëŒ€ë°•","ëŒ€ë°•ì‹œì¦Œ","ëŒ€ë°• ì‹œì¦Œ","ëŒ€ë°•ì‹œì¦Œ!","ëŒ€ë°• ì‹œì¦Œ!"],
        hint: "â€˜___ ì‹œì¦Œâ€™ ê°€ìì•„ì•„ ğŸ’¥"
      }
    ];

    /***********************
     * ì €ì¥ í‚¤
     ***********************/
    const KEY_UNLOCKED = "gh_unlocked_v1";
    const KEY_QINDEX   = "gh_qindex_v1";
    const KEY_DONE     = "gh_done_v1";

    /***********************
     * DOM
     ***********************/
    const elLock    = document.getElementById("stage-lock");
    const elQuiz    = document.getElementById("stage-quiz");
    const elSuccess = document.getElementById("stage-success");

    const pwInput = document.getElementById("pw");
    const pwMsg   = document.getElementById("pw-msg");

    const qTitle  = document.getElementById("qtitle");
    const qText   = document.getElementById("qtext");
    const ansInput= document.getElementById("answer");
    const qMsg    = document.getElementById("q-msg");
    const hintEl  = document.getElementById("hint");

    const pipsEl  = document.getElementById("pips");

    /***********************
     * Helpers
     ***********************/
    const norm = (s) => (s ?? "").toString().trim().toLowerCase().replace(/\s+/g,"");
    const setStage = (name) => {
      elLock.classList.add("hidden");
      elQuiz.classList.add("hidden");
      elSuccess.classList.add("hidden");
      if(name==="lock") elLock.classList.remove("hidden");
      if(name==="quiz") elQuiz.classList.remove("hidden");
      if(name==="success") elSuccess.classList.remove("hidden");
    };

    function buildPips(idx){
      pipsEl.innerHTML = "";
      for(let i=0;i<QUESTIONS.length;i++){
        const d = document.createElement("div");
        d.className = "pip" + (i<=idx ? " on" : "");
        pipsEl.appendChild(d);
      }
    }

    function currentIndex(){
      const raw = localStorage.getItem(KEY_QINDEX);
      const n = raw ? parseInt(raw,10) : 0;
      return Number.isFinite(n) ? Math.max(0, Math.min(QUESTIONS.length-1, n)) : 0;
    }

    function showQuestion(){
      const idx = currentIndex();
      const q = QUESTIONS[idx];
      qTitle.textContent = q.title + ` (${idx+1}/${QUESTIONS.length})`;
      qText.textContent  = q.text;
      qMsg.textContent = "";
      qMsg.className = "msg";
      hintEl.textContent = "";
      ansInput.value = "";
      buildPips(idx);
      ansInput.focus({preventScroll:true});
    }

    function markDone(){
      localStorage.setItem(KEY_DONE, "1");
      setStage("success");
      burstFireworks(5);
    }

    /***********************
     * Lock logic
     ***********************/
    function unlock(){
      const ok = norm(pwInput.value) === norm(PASSWORD);
      if(ok){
        localStorage.setItem(KEY_UNLOCKED, "1");
        pwMsg.textContent = "ì˜¤ì¼€ì´~ ì…ì¥ ì„±ê³µ ğŸ˜ ë¯¸ì…˜ ì‹œì‘!";
        pwMsg.className = "msg good";
        setTimeout(()=>{
          setStage("quiz");
          showQuestion();
          tinySparkle();
        }, 450);
      }else{
        pwMsg.textContent = "ë•¡! ë¹„ë²ˆì´ ì•„ë‹Œë°? ğŸ˜ (ì˜¤ë¹ ê°€ ì•„ëŠ” ê·¸ê±°!)";
        pwMsg.className = "msg bad";
        wiggle(pwInput);
      }
    }

    /***********************
     * Quiz logic
     ***********************/
    function submitAnswer(){
      const idx = currentIndex();
      const q = QUESTIONS[idx];
      const user = norm(ansInput.value);

      const isCorrect = q.answers.some(a => norm(a) === user);

      if(isCorrect){
        qMsg.textContent = "ì •ë‹µ! ì˜¤ë¹  ì¢€ ì¹˜ëŠ”ë°? ğŸ˜âœ¨";
        qMsg.className = "msg good";
        hintEl.textContent = "";
        tinySparkle();

        setTimeout(()=>{
          if(idx >= QUESTIONS.length-1){
            markDone();
          }else{
            localStorage.setItem(KEY_QINDEX, String(idx+1));
            showQuestion();
          }
        }, 550);
      }else{
        qMsg.textContent = "ì•„ê¹ë‹¤ ã… ã…  ë‹¤ì‹œ! (íŒíŠ¸ ë³¼ë˜?)";
        qMsg.className = "msg bad";
        wiggle(ansInput);
      }
    }

    function showHint(){
      const idx = currentIndex();
      const q = QUESTIONS[idx];
      hintEl.innerHTML = `íŒíŠ¸: <b>${q.hint}</b>`;
      tinySparkle();
    }

    /***********************
     * Small UI effects
     ***********************/
    function wiggle(el){
      el.animate([
        {transform:"translateX(0)"},
        {transform:"translateX(-8px)"},
        {transform:"translateX(8px)"},
        {transform:"translateX(-5px)"},
        {transform:"translateX(5px)"},
        {transform:"translateX(0)"},
      ], {duration: 320, easing:"ease-out"});
    }

    /***********************
     * Dots background
     ***********************/
    const dots = document.getElementById("dots");
    (function spawnDots(){
      const count = 26;
      for(let i=0;i<count;i++){
        const d = document.createElement("div");
        d.className = "dot";
        const left = Math.random()*100;
        const delay = Math.random()*10;
        const dur = 8 + Math.random()*8;
        const size = 6 + Math.random()*8;
        d.style.left = left + "vw";
        d.style.bottom = (-10 - Math.random()*60) + "vh";
        d.style.animationDelay = (-delay) + "s";
        d.style.animationDuration = dur + "s";
        d.style.width = d.style.height = size + "px";
        d.style.opacity = (0.15 + Math.random()*0.6).toFixed(2);
        dots.appendChild(d);
      }
    })();

    /***********************
     * Tap sparkle (simple particles)
     ***********************/
    document.addEventListener("pointerdown", (e)=>{
      // only when quiz/success visible
      if(elQuiz.classList.contains("hidden") && elSuccess.classList.contains("hidden")) return;
      sparkleAt(e.clientX, e.clientY, 18);
    });

    function tinySparkle(){
      sparkleAt(window.innerWidth/2, window.innerHeight*0.35, 22);
    }

    /***********************
     * Fireworks canvas
     ***********************/
    const canvas = document.getElementById("fx");
    const ctx = canvas.getContext("2d");
    let W=0,H=0, dpr=1;
    function resize(){
      dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      W = canvas.width = Math.floor(window.innerWidth * dpr);
      H = canvas.height = Math.floor(window.innerHeight * dpr);
      canvas.style.width = window.innerWidth + "px";
      canvas.style.height = window.innerHeight + "px";
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }
    window.addEventListener("resize", resize);
    resize();

    const particles = [];
    function sparkleAt(x,y,n=24){
      for(let i=0;i<n;i++){
        const a = Math.random()*Math.PI*2;
        const s = 1.2 + Math.random()*3.2;
        particles.push({
          x, y,
          vx: Math.cos(a)*s,
          vy: Math.sin(a)*s,
          life: 40 + Math.random()*18,
          r: 1 + Math.random()*2.2,
          // no fixed colors, but random bright-ish via hsl
          h: Math.floor(Math.random()*360),
        });
      }
    }

    function fireworkBurst(x,y){
      const n = 70 + Math.floor(Math.random()*50);
      for(let i=0;i<n;i++){
        const a = Math.random()*Math.PI*2;
        const s = 2 + Math.random()*6;
        particles.push({
          x, y,
          vx: Math.cos(a)*s,
          vy: Math.sin(a)*s,
          life: 70 + Math.random()*35,
          r: 1.2 + Math.random()*2.8,
          h: Math.floor(Math.random()*360),
          g: 0.05 + Math.random()*0.06
        });
      }
    }

    function burstFireworks(times=3){
      for(let i=0;i<times;i++){
        setTimeout(()=>{
          const x = 60 + Math.random()*(window.innerWidth-120);
          const y = 120 + Math.random()*(window.innerHeight*0.45);
          fireworkBurst(x,y);
        }, i*320);
      }
    }

    function tick(){
      ctx.clearRect(0,0,window.innerWidth, window.innerHeight);

      for(let i=particles.length-1;i>=0;i--){
        const p = particles[i];
        p.life -= 1;
        if(p.life<=0){ particles.splice(i,1); continue; }

        p.x += p.vx;
        p.y += p.vy;
        if(p.g) p.vy += p.g;

        const alpha = Math.max(0, Math.min(1, p.life/90));
        ctx.beginPath();
        ctx.fillStyle = `hsla(${p.h}, 90%, 70%, ${alpha})`;
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fill();
      }

      requestAnimationFrame(tick);
    }
    tick();

    /***********************
     * Buttons
     ***********************/
    document.getElementById("btn-unlock").addEventListener("click", unlock);
    pwInput.addEventListener("keydown", (e)=>{ if(e.key==="Enter") unlock(); });

    document.getElementById("btn-submit").addEventListener("click", submitAnswer);
    ansInput.addEventListener("keydown", (e)=>{ if(e.key==="Enter") submitAnswer(); });

    document.getElementById("btn-skip-hint").addEventListener("click", showHint);
    document.getElementById("btn-back-lock").addEventListener("click", ()=> setStage("lock"));

    document.getElementById("btn-fireworks").addEventListener("click", ()=> burstFireworks(6));

    document.getElementById("btn-share").addEventListener("click", async ()=>{
      const url = location.href;
      const text = "ê¸°í™ì˜¤ë¹  â™¡ ë¯¸ì…˜ ì„±ê³µí•˜ë©´ í­ì£½ í„°ì ¸ìš” ğŸ†";
      try{
        if(navigator.share){
          await navigator.share({ title: document.title, text, url });
        }else{
          await navigator.clipboard.writeText(url);
          document.getElementById("s-msg").textContent = "ë§í¬ ë³µì‚¬ ì™„ë£Œ! ì¹´í†¡ì— ë¶™ì—¬ë„£ê¸° í•˜ë©´ ë¼ìš” ğŸ“";
        }
      }catch(e){
        // fallback
        try{
          await navigator.clipboard.writeText(url);
          document.getElementById("s-msg").textContent = "ë§í¬ ë³µì‚¬ ì™„ë£Œ! ì¹´í†¡ì— ë¶™ì—¬ë„£ê¸° í•˜ë©´ ë¼ìš” ğŸ“";
        }catch(_){
          document.getElementById("s-msg").textContent = "ê³µìœ ê°€ ë§‰í˜”ìœ¼ë©´ ì£¼ì†Œì°½ ë§í¬ë¥¼ ê¸¸ê²Œ ëˆŒëŸ¬ ë³µì‚¬í•´ì„œ ë³´ë‚´ì¤˜ìš”!";
        }
      }
    });

    document.getElementById("btn-reset").addEventListener("click", ()=>{
      localStorage.removeItem(KEY_UNLOCKED);
      localStorage.removeItem(KEY_QINDEX);
      localStorage.removeItem(KEY_DONE);
      pwMsg.textContent = "ì´ˆê¸°í™” ì™„ë£Œ! ë‹¤ì‹œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ ğŸ™‚";
      pwMsg.className = "msg good";
    });

    /***********************
     * Boot: restore state
     ***********************/
    (function boot(){
      const done = localStorage.getItem(KEY_DONE)==="1";
      const unlocked = localStorage.getItem(KEY_UNLOCKED)==="1";

      if(done){
        setStage("success");
        setTimeout(()=>burstFireworks(4), 200);
        return;
      }
      if(unlocked){
        setStage("quiz");
        showQuestion();
        return;
      }
      setStage("lock");
    })();
  </script>
</body>
</html>